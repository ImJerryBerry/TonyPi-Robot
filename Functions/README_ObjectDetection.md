# 物体检测 (ObjectDetection)

## 功能简介
物体检测模块可实时识别机器人摄像头视野内的各类物体，并通过ASR和TTS模块与用户进行交互。

## 使用方法
1. **启动脚本**：运行`ObjectDetection.py`
2. **激活语音识别**：说出激活词“开始”
3. **发出检测指令**：说出“这是什么”
4. **获取结果**：系统将通过语音播报识别到的物体

## 支持识别的物体类别
该模块基于MobileNet SSD模型，支持识别20种常见物体：
- 交通工具：飞机、自行车、船、公共汽车、汽车、摩托车、火车
- 动物：鸟、猫、牛、狗、马、羊
- 人物：人
- 日常物品：瓶子、椅子、餐桌、盆栽植物、沙发、电视显示器

支持同时在同一张照片中识别多个物体，无论它们是相同类别还是不同类别，但是语音播报时只会播报前3个置信度最高的物体。

## 模式切换
本脚本默认使用循环模式，每次说出指令前不需要先说激活词。设置为口令模式后，每次说出指令前需要先说出激活词“开始”。

如果需要切换至口令模式，请修改代码为：

    asr.setMode(2)

## 模型文件说明
使用前请确保`../models`文件夹内有模型相关的文件：
1. `MobileNetSSD_deploy.prototxt`
2. `MobileNetSSD_deploy.caffemodel`

如果没有上述文件，可前往[百度网盘](https://pan.baidu.com/s/15U78VMT5qYJih_ba-IbJMQ)或[Github](https://github.com/chuanqi305/MobileNet-SSD)下载，网盘提取码：`whut`。


## 技术实现
- **深度学习模型**：
  - 使用轻量级的MobileNet SSD模型进行物体检测
  - 支持实时检测并返回物体类别、置信度和边界框信息
  
- **相机处理**：
  - 使用OpenCV捕获和处理图像
  - 应用相机校准参数消除镜头畸变
  
- **语音交互**：
  - 使用ASR模块处理语音指令
  - 使用TTS模块播报识别结果

## 注意事项
- 运行脚本前需确保模型文件已下载到正确路径，如果没有模型文件程序会尝试使用OpenCV内置的人脸检测器作为备用方案
- 本功能仅基于离线模型实现物体检测，没有使用联网大模型。如需查阅接入大模型后进行物体检测与环境识别的代码，请参阅`../large_models`文件夹