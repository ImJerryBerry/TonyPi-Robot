# 颜色跟踪 (ColorFollow)

## 功能简介
颜色跟踪模块使机器人能够识别并跟随特定颜色的物体移动。通过实时图像处理和运动控制，机器人可以检测目标颜色，调整自身位置和方向，实现对彩色物体的跟踪。

## 使用方法
1. **启动脚本**：运行`ColorFollow.py`
2. **开始跟踪**：将目标颜色的物体放置在机器人摄像头前，机器人将自动识别并跟随移动

## 支持的颜色
支持红色 (Red)、绿色 (Green)、蓝色 (Blue) 三种颜色，三种颜色可同时跟踪。

## 技术实现
- **颜色检测**：
  - 使用OpenCV库进行图像捕获和处理
  - 应用高斯模糊滤波减少噪声
  - 将图像从BGR转换到LAB色彩空间进行更精确的颜色识别
  - 使用色彩阈值分割技术分离目标颜色区域
  - 轮廓检测和面积计算确定主要颜色区域

- **跟踪算法**：
  - 计算目标颜色物体的中心坐标和半径
  - 使用PID控制器平滑调整机器人的运动方向和速度
  - 根据目标物体的位置和大小决定前进、后退、左移或右移

- **运动控制**：
  - 根据目标位置相对于视野中心的偏移量控制转向
  - 根据目标物体的大小（距离）控制前进或后退
  - 使用预设动作组实现机器人的平滑运动

## 参数调整
- PID参数：`x_pid`和`y_pid`控制运动平滑性和响应速度
- 色彩阈值：`lab_data`中的颜色阈值决定检测灵敏度
- 运动阈值：通过调整中心偏移阈值和半径阈值优化跟踪行为

## 注意事项
- 光照条件会显著影响颜色识别准确性，建议在稳定光照环境下使用
- 确保跟踪区域内没有其他相同颜色的干扰物
- 运行前请确保机器人有足够的活动空间

## 代码说明
本代码文件是在TonyPi内置的源码`Follow.py`的基础上进行修改。